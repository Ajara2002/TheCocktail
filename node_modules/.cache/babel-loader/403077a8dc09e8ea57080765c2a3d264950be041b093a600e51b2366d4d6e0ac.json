{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport instance from \"../../Http/Settings\";\nconst initialState = {\n  latest: [],\n  infoMeal: []\n};\nexport const getLatestMeal = createAsyncThunk(\"latest/getLatestMeal\", async (_, {\n  rejectWithValue,\n  dispatch\n}) => {\n  try {\n    const mealNumbers = [11007, 11006, 11005, 11004, 11003, 11002, 11001, 11000];\n    const results = await Promise.all(mealNumbers.map(async number => {\n      const result = await instance.get(`lookup.php?i=${number}`);\n      return result.data.drinks;\n    }));\n    const combinedMeals = results.flat();\n    dispatch(latestMeal(combinedMeals));\n    console.log(\"combinedMeals\", combinedMeals);\n  } catch (error) {\n    rejectWithValue(error.message);\n  }\n});\nexport const getInfoMeal = createAsyncThunk(\"infoMeal/getInfoMeal\", async (elem, {\n  rejectWithValue,\n  dispatch\n}) => {\n  const result = await instance.get(`lookup.php?i=${elem}`);\n  console.log(\"resultinfoMeal>>>\", result.data.meals);\n  dispatch(ingoIngredientMeal(result.data.meals));\n});\nconst melSlice = createSlice({\n  name: \"products\",\n  initialState,\n  reducers: {\n    latestMeal: (state, action) => {\n      state.latest = action.payload;\n    },\n    ingoIngredientMeal: (state, action) => {\n      state.infoMeal = action.payload;\n    }\n  }\n});\nexport const {\n  latestMeal,\n  ingoIngredientMeal\n} = melSlice.actions;\nexport default melSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","instance","initialState","latest","infoMeal","getLatestMeal","_","rejectWithValue","dispatch","mealNumbers","results","Promise","all","map","number","result","get","data","drinks","combinedMeals","flat","latestMeal","console","log","error","message","getInfoMeal","elem","meals","ingoIngredientMeal","melSlice","name","reducers","state","action","payload","actions","reducer"],"sources":["C:/Users/user/Desktop/fullstec/Node_Js/thecocktaidb/src/Redux-toolkit/MealSlice/MealSlice.js"],"sourcesContent":["import {createSlice,createAsyncThunk} from \"@reduxjs/toolkit\"\r\nimport instance from \"../../Http/Settings\"\r\n\r\nconst initialState={\r\n    latest:[],\r\n    infoMeal:[]\r\n}\r\nexport const getLatestMeal=createAsyncThunk(\"latest/getLatestMeal\",async(_,{rejectWithValue,dispatch})=>{\r\n \r\n\r\n    try {\r\n        const mealNumbers=[\r\n          11007,11006,11005,11004,11003,11002,11001,11000\r\n        ]\r\n        const results=await Promise.all(\r\n            mealNumbers.map(async(number)=>{\r\n                const result=await instance.get(`lookup.php?i=${number}`)\r\n                return result.data.drinks\r\n            })\r\n        )\r\n        const combinedMeals=results.flat()\r\n        dispatch(latestMeal(combinedMeals))\r\n        console.log(\"combinedMeals\", combinedMeals)\r\n    } catch (error) {\r\n        rejectWithValue(error.message) \r\n    }\r\n})\r\nexport const getInfoMeal=createAsyncThunk(\"infoMeal/getInfoMeal\",async(elem,{rejectWithValue,dispatch})=>{\r\n    const result=await instance.get(`lookup.php?i=${elem}`)\r\n    console.log (\"resultinfoMeal>>>\", result.data.meals)\r\n    dispatch(ingoIngredientMeal(result.data.meals))\r\n  })\r\n\r\nconst melSlice=createSlice({\r\n    name:\"products\",\r\n    initialState,\r\n    reducers:{\r\n        latestMeal:(state,action)=>{\r\n            state.latest=action.payload\r\n        },\r\n        ingoIngredientMeal:(state,action)=>{\r\n            state.infoMeal=action.payload\r\n        }\r\n    }\r\n})\r\nexport const {latestMeal,ingoIngredientMeal}=melSlice.actions\r\n\r\nexport default melSlice.reducer;"],"mappings":"AAAA,SAAQA,WAAW,EAACC,gBAAgB,QAAO,kBAAkB;AAC7D,OAAOC,QAAQ,MAAM,qBAAqB;AAE1C,MAAMC,YAAY,GAAC;EACfC,MAAM,EAAC,EAAE;EACTC,QAAQ,EAAC;AACb,CAAC;AACD,OAAO,MAAMC,aAAa,GAACL,gBAAgB,CAAC,sBAAsB,EAAC,OAAMM,CAAC,EAAC;EAACC,eAAe;EAACC;AAAQ,CAAC,KAAG;EAGpG,IAAI;IACA,MAAMC,WAAW,GAAC,CAChB,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,CAChD;IACD,MAAMC,OAAO,GAAC,MAAMC,OAAO,CAACC,GAAG,CAC3BH,WAAW,CAACI,GAAG,CAAC,MAAMC,MAAM,IAAG;MAC3B,MAAMC,MAAM,GAAC,MAAMd,QAAQ,CAACe,GAAG,CAAE,gBAAeF,MAAO,EAAC,CAAC;MACzD,OAAOC,MAAM,CAACE,IAAI,CAACC,MAAM;IAC7B,CAAC,CACL,CAAC;IACD,MAAMC,aAAa,GAACT,OAAO,CAACU,IAAI,CAAC,CAAC;IAClCZ,QAAQ,CAACa,UAAU,CAACF,aAAa,CAAC,CAAC;IACnCG,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEJ,aAAa,CAAC;EAC/C,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZjB,eAAe,CAACiB,KAAK,CAACC,OAAO,CAAC;EAClC;AACJ,CAAC,CAAC;AACF,OAAO,MAAMC,WAAW,GAAC1B,gBAAgB,CAAC,sBAAsB,EAAC,OAAM2B,IAAI,EAAC;EAACpB,eAAe;EAACC;AAAQ,CAAC,KAAG;EACrG,MAAMO,MAAM,GAAC,MAAMd,QAAQ,CAACe,GAAG,CAAE,gBAAeW,IAAK,EAAC,CAAC;EACvDL,OAAO,CAACC,GAAG,CAAE,mBAAmB,EAAER,MAAM,CAACE,IAAI,CAACW,KAAK,CAAC;EACpDpB,QAAQ,CAACqB,kBAAkB,CAACd,MAAM,CAACE,IAAI,CAACW,KAAK,CAAC,CAAC;AACjD,CAAC,CAAC;AAEJ,MAAME,QAAQ,GAAC/B,WAAW,CAAC;EACvBgC,IAAI,EAAC,UAAU;EACf7B,YAAY;EACZ8B,QAAQ,EAAC;IACLX,UAAU,EAACA,CAACY,KAAK,EAACC,MAAM,KAAG;MACvBD,KAAK,CAAC9B,MAAM,GAAC+B,MAAM,CAACC,OAAO;IAC/B,CAAC;IACDN,kBAAkB,EAACA,CAACI,KAAK,EAACC,MAAM,KAAG;MAC/BD,KAAK,CAAC7B,QAAQ,GAAC8B,MAAM,CAACC,OAAO;IACjC;EACJ;AACJ,CAAC,CAAC;AACF,OAAO,MAAM;EAACd,UAAU;EAACQ;AAAkB,CAAC,GAACC,QAAQ,CAACM,OAAO;AAE7D,eAAeN,QAAQ,CAACO,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}