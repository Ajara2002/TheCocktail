{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport instance from \"../../Http/Settings\";\nconst initialState = {\n  latest: [],\n  infoDrink: [],\n  popular: [],\n  popularInfo: [],\n  text: \"\"\n};\nexport const getLatestMeal = createAsyncThunk(\"latest/getLatestMeal\", async (_, {\n  rejectWithValue,\n  dispatch\n}) => {\n  try {\n    const mealNumbers = [11007, 11006, 11005, 11004, 11003, 11002, 11001, 11000];\n    const results = await Promise.all(mealNumbers.map(async number => {\n      const result = await instance.get(`lookup.php?i=${number}`);\n      return result.data.drinks;\n    }));\n    const combinedMeals = results.flat();\n    dispatch(latestMeal(combinedMeals));\n    console.log(\"combinedMeals\", combinedMeals);\n  } catch (error) {\n    rejectWithValue(error.message);\n  }\n});\nexport const getInfoDrink = createAsyncThunk(\"infoDrink/getInfoDrink\", async (elem, {\n  rejectWithValue,\n  dispatch\n}) => {\n  const result = await instance.get(`lookup.php?i=${elem}`);\n  console.log(\"resultinfoDrink>>>\", result.data.drinks);\n  dispatch(ingoIngredientMeal(result.data.drinks));\n});\nexport const getPopular = createAsyncThunk(\"popular/getPoular\", async (_, {\n  rejectWithValue,\n  dispatch\n}) => {\n  const result = await instance.get(\"list.php?i=list\");\n  dispatch(popularMeal(result.data.drinks));\n});\n//?filter.php?i=\nexport const getPopularInfo = createAsyncThunk(\"popularInfo/getPopularInfo\", async (elem, {\n  rejectWithValue,\n  dispatch\n}) => {\n  const response = await instance.get(`filter.php?g=${elem}`);\n  console.log(\"\");\n  dispatch(popularInfoMeal(response.data.drinks));\n});\nconst melSlice = createSlice({\n  name: \"products\",\n  initialState,\n  reducers: {\n    latestMeal: (state, action) => {\n      state.latest = action.payload;\n    },\n    ingoIngredientMeal: (state, action) => {\n      state.infoDrink = action.payload;\n    },\n    popularMeal: (state, action) => {\n      state.popular = action.payload;\n    },\n    popularInfoMeal: (state, action) => {\n      state.popularInfo = action.payload;\n    },\n    onDescription: (state, action) => {\n      state.text = action.payload;\n    }\n  }\n});\nexport const {\n  latestMeal,\n  ingoIngredientMeal,\n  popularMeal,\n  popularInfoMeal,\n  onDescription\n} = melSlice.actions;\nexport default melSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","instance","initialState","latest","infoDrink","popular","popularInfo","text","getLatestMeal","_","rejectWithValue","dispatch","mealNumbers","results","Promise","all","map","number","result","get","data","drinks","combinedMeals","flat","latestMeal","console","log","error","message","getInfoDrink","elem","ingoIngredientMeal","getPopular","popularMeal","getPopularInfo","response","popularInfoMeal","melSlice","name","reducers","state","action","payload","onDescription","actions","reducer"],"sources":["C:/Users/user/Desktop/fullstec/Node_Js/thecocktaidb/src/Redux-toolkit/MealSlice/MealSlice.js"],"sourcesContent":["import {createSlice,createAsyncThunk} from \"@reduxjs/toolkit\"\r\nimport instance from \"../../Http/Settings\"\r\n\r\nconst initialState={\r\n    latest:[],\r\n    infoDrink:[],\r\n    popular: [],\r\n    popularInfo: [],\r\n    text: \"\"\r\n}\r\nexport const getLatestMeal=createAsyncThunk(\"latest/getLatestMeal\",async(_,{rejectWithValue,dispatch})=>{\r\n \r\n\r\n    try {\r\n        const mealNumbers=[\r\n          11007,11006,11005,11004,11003,11002,11001,11000\r\n        ]\r\n        const results=await Promise.all(\r\n            mealNumbers.map(async(number)=>{\r\n                const result=await instance.get(`lookup.php?i=${number}`)\r\n                return result.data.drinks\r\n            })\r\n        )\r\n        const combinedMeals=results.flat()\r\n        dispatch(latestMeal(combinedMeals))\r\n        console.log(\"combinedMeals\", combinedMeals)\r\n    } catch (error) {\r\n        rejectWithValue(error.message) \r\n    }\r\n})\r\nexport const getInfoDrink=createAsyncThunk(\"infoDrink/getInfoDrink\",async(elem,{rejectWithValue,dispatch})=>{\r\n    const result=await instance.get(`lookup.php?i=${elem}`)\r\n    console.log (\"resultinfoDrink>>>\", result.data.drinks)\r\n    dispatch(ingoIngredientMeal(result.data.drinks))\r\n  })\r\n  export const getPopular = createAsyncThunk(\"popular/getPoular\", async (_, { rejectWithValue, dispatch }) => {\r\n    const result = await instance.get(\"list.php?i=list\")\r\n    dispatch(popularMeal(result.data.drinks))\r\n})\r\n//?filter.php?i=\r\nexport const getPopularInfo = createAsyncThunk(\"popularInfo/getPopularInfo\", async (elem, { rejectWithValue, dispatch }) => {\r\n    const response = await instance.get(`filter.php?g=${elem}`)\r\n    console.log(\"\");\r\n    dispatch(popularInfoMeal(response.data.drinks))\r\n})\r\n\r\n\r\nconst melSlice=createSlice({\r\n    name:\"products\",\r\n    initialState,\r\n    reducers:{\r\n        latestMeal:(state,action)=>{\r\n            state.latest=action.payload\r\n        },\r\n        ingoIngredientMeal:(state,action)=>{\r\n            state.infoDrink=action.payload\r\n        },\r\n        popularMeal: (state, action) => {\r\n            state.popular = action.payload\r\n        },\r\n        popularInfoMeal: (state, action) => {\r\n            state.popularInfo = action.payload\r\n        },\r\n        onDescription: (state, action) => {\r\n            state.text = action.payload\r\n        }\r\n    }\r\n})\r\nexport const {latestMeal,ingoIngredientMeal,popularMeal, popularInfoMeal, onDescription }=melSlice.actions\r\n\r\nexport default melSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}